<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="../js/fetchpack.js"></script>
    <script src="../js/lib/aes.js"></script>
    <script src="../js/lib/mode-ecb.min.js"></script>
    <script type="module">
        window.getFirstMatch = function(regex, str){
            var m = regex.exec(str);
            if(m == null){
                return "";
            }
            return m[1];
        }

        window.getAllMatches = function(regex, str){
            return [...str.matchAll(regex)];
        }
        window.serverHost = "http://127.0.0.1:8080/";
        document.addEventListener("DOMContentLoaded", ()=>{
            //var script = document.createElement('script');
            //script.onload = function () {
             //   alert("hi");
            //};
            //script.src = "http://127.0.0.1:8080/js/main.js";
            //document.head.appendChild(script);
            swish("https://jkanime.net/um.php?e=NmpIMkM0R1pjWTlzWjR6azE1dDAwM1hGa1FXK2hmUjU2d1VkM0lpb1J1UWFvbzdOMUdnNVNmRlI2UlN3UWJxcTgxQmNCSlUwR0JnTnZaYk8wb3FTd2VoNGEzSVA2RVNzU1RUY1VvMitwSVE9Ojpeaeyfa.LXyLdNhnD.ZyLU&t=f783291f4748c86527b42f5ec3ffa9b6")
        });
        window.decodeHtml = (html) => {
            var el = document.createElement("div");
            el.innerHTML = html;
            return el.textContent;
        }

        async function swish(link){
            let content = await fGet(link, {"Referer":
                "https://jkanime.net/"});
            var match = getFirstMatch(/url:\s*'(.+?)'/gm, content);
            if (match) {
                console.log(match);
            }else{
                console.log("Error")
            }
        }
    </script>
</head>
<body style="background-color: black;">
    <div id="app"></div>

    
</body>
</html>